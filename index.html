<!doctype html><html lang="ar" dir="rtl"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ù…Ù„ØªÙ‚ÙŠØ§Øª ØªÙ„Ø¨ÙŠØ© | Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ© (Prototype)</title>
<meta name="description" content="Ù…Ù†ØµØ© Ù…ÙˆØ­Ø¯Ø© Ù„Ø¥Ø¯Ø§Ø±Ø© Ù…Ù„ØªÙ‚ÙŠØ§Øª ØªÙ„Ø¨ÙŠØ© Ø¹Ù„Ù‰ Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚.">
<link rel="icon" href="assets/talbiya.svg"/>
<style>
:root{--green:#136A40;--gold:#CBA135;--ink:#1C1C1C;--muted:#65728A;--bg:#F6F7F9;--card:#FFFFFF;--border:#E7EAF0;--radius:20px;--shadow:0 14px 30px rgba(16,24,40,.08)}
*{box-sizing:border-box}body{margin:0;font-family:system-ui, -apple-system, Segoe UI, Roboto, Tajawal, Arial;color:var(--ink);background:var(--bg)}
.container{width:min(1200px,100%);margin:auto;padding:0 16px}
header{position:sticky;top:0;background:#fff;border-bottom:1px solid var(--border);z-index:50}
.topbar{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:10px 0}
.brand{display:flex;gap:10px;align-items:center}.brand img{height:42px}
nav a{display:inline-block;margin:0 4px;padding:10px 14px;border-radius:12px;border:1px solid var(--border);text-decoration:none;color:var(--ink)}
nav a:hover{background:#f0f5f2}
.hero{border-bottom:1px solid var(--border);background:linear-gradient(180deg,#f2f7f4 0%, #ffffff 75%)}
.hero .wrap{display:grid;grid-template-columns:1.2fr .8fr;gap:24px;align-items:center;padding:28px 0}
h1{margin:0 0 6px;font-size:clamp(24px,3vw,36px)}.lead{color:var(--muted)}
.toolbar{display:flex;flex-wrap:wrap;gap:10px;background:#fff;border:1px solid var(--border);border-radius:22px;padding:12px;box-shadow:var(--shadow)}
select,input[type="email"],textarea{width:100%;padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:#fff}
.btn{background:var(--green);color:#fff;border:0;padding:10px 12px;border-radius:12px;cursor:pointer}.btn.ghost{background:#fff;color:var(--green);border:1px solid var(--green)}
.grid{display:grid;gap:14px}.grid.cards{grid-template-columns:repeat(auto-fill,minmax(260px,1fr))}
.card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow)}.p{padding:16px}
.badge{display:inline-flex;align-items:center;gap:8px;background:#EAF3ED;color:#0A3D16;border-radius:999px;padding:8px 12px;font-size:13px;border:1px solid #D7E7DC}
section{padding:32px 0}
.region-grid{display:grid;gap:14px;grid-template-columns:repeat(auto-fill,minmax(190px,1fr))}
.region-grid a{display:block;background:#fff;border:1px solid var(--border);border-radius:16px;padding:14px;text-decoration:none;color:var(--ink)}
.region-grid a:hover{box-shadow:var(--shadow)}
.region-grid .title{font-weight:700;margin-bottom:4px}
.speaker{display:grid;grid-template-columns:72px 1fr;gap:12px;align-items:center}.speaker img{width:72px;height:72px;border-radius:50%;object-fit:cover;background:#f2f2f2}
.partners{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:12px}.partners img{width:100%;height:80px;object-fit:contain;background:#fff;border:1px solid var(--border);border-radius:12px;padding:8px}
footer{border-top:1px solid var(--border);padding:16px 0;color:var(--muted)}
.tabs{display:flex;gap:8px;overflow:auto;white-space:nowrap;scroll-snap-type:x mandatory;padding-bottom:8px}
.tabs a{scroll-snap-align:start;display:inline-block;padding:10px 14px;border-radius:999px;border:1px solid var(--border);background:#fff;color:var(--ink);text-decoration:none}
.tabs a.active{background:#D9F0E3;border-color:#bfe4cb}
.cta{position:fixed;left:16px;right:16px;bottom:16px;background:var(--green);color:#fff;text-align:center;padding:12px 16px;border-radius:16px;box-shadow:0 10px 20px rgba(0,0,0,.12);display:none;z-index:60}
@media(max-width:900px){.cta{display:block}.hero .wrap{grid-template-columns:1fr}.speaker{grid-template-columns:60px 1fr}.speaker img{width:60px;height:60px}}
:focus-visible{outline:3px solid var(--green);outline-offset:2px;border-radius:10px}
.modal{position:fixed;inset:0;background:rgba(0,0,0,.5);display:none;align-items:center;justify-content:center;padding:16px}
.modal .dialog{background:#fff;border-radius:16px;max-width:680px;width:100%;border:1px solid var(--border);box-shadow:var(--shadow)}
.modal .dialog .hd{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--border);padding:12px 16px}
</style>
</head><body>
<header><div class="container topbar">
  <div class="brand"><img src="assets/talbiya.svg" alt="Ø´Ø¹Ø§Ø± ØªÙ„Ø¨ÙŠØ©"><strong>Ù…Ù„ØªÙ‚ÙŠØ§Øª ØªÙ„Ø¨ÙŠØ©</strong></div>
  <nav>
    <a href="#home">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a><a href="#regions">Ø§Ù„Ù…Ù†Ø§Ø·Ù‚</a><a href="#agenda">Ø§Ù„Ø¬Ø¯ÙˆÙ„</a>
    <a href="#speakers">Ø§Ù„Ù…ØªØ­Ø¯Ø«ÙˆÙ†</a><a href="#partners">Ø§Ù„Ø´Ø±ÙƒØ§Ø¡</a><a href="#register">Ø§Ù„ØªØ³Ø¬ÙŠÙ„</a>
  </nav>
</div></header>

<div class="hero"><div class="container wrap">
  <div>
    <h1>Ù…Ù†ØµØ© Ù…Ù„ØªÙ‚ÙŠØ§Øª ØªÙ„Ø¨ÙŠØ© â€“ Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø§Ø­ØªØ±Ø§ÙÙŠØ©</h1>
    <p class="lead">Ø§Ø®ØªØ± Ù…Ù†Ø·Ù‚ØªÙƒ ÙˆØ§Ø³ØªØ¹Ø±Ø¶ Ø§Ù„Ø¬Ø¯Ø§ÙˆÙ„ ÙˆØ§Ù„Ù…Ø­Ø§ÙˆØ± ÙˆØ§Ù„Ù…ØªØ­Ø¯Ø«ÙŠÙ† ÙˆØ³Ø¬Ù‘Ù„ Ø­Ø¶ÙˆØ±Ùƒ. Ø±ÙˆØ§Ø¨Ø· Ø®Ø§ØµØ© Ø¨ÙƒÙ„ Ù…Ù†Ø·Ù‚Ø©ØŒ ÙˆØ§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø¨Ø³Ø±Ø¹Ø©.</p>
    <div class="toolbar">
      <div><label>Ø§Ù„Ù…Ù†Ø·Ù‚Ø©: </label><select id="regionSelect"></select></div>
      <div><label>Ø§Ù„Ù…Ø­ÙˆØ±: </label><select id="topicSelect"><option value="all">ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙˆØ±</option></select></div>
      <button class="btn" id="copyLink">Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</button>
      <button class="btn ghost" id="openAdmin">Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© (Ù†Ù…ÙˆØ°Ø¬)</button>
    </div>
    <div class="tabs" id="regionTabs" style="margin-top:10px"></div>
  </div>
  <div style="display:flex;gap:12px;flex-wrap:wrap;align-items:center;opacity:.9">
    <img src="assets/vision2030.svg" alt="Ø±Ø¤ÙŠØ© 2030" width="140" height="60" loading="eager">
    <img src="assets/hasseef.svg" alt="Ø­ØµÙŠÙ" width="140" height="60" loading="eager">
    <img src="assets/talbiya.svg" alt="ØªÙ„Ø¨ÙŠØ©" width="140" height="60" loading="eager">
  </div>
</div></div>

<main class="container">
  <section id="home">
    <div class="card p">
      <div class="badge">ğŸ—ºï¸ Ø¹Ø±Ø¶ ÙƒÙ„ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚</div>
      <p class="lead" style="margin-top:8px">Ø§Ø®ØªØ± Ù…Ù†Ø·Ù‚Ø© Ù„Ù„Ø§Ø·Ù„Ø§Ø¹ Ø¹Ù„Ù‰ Ø§Ù„ØªÙØ§ØµÙŠÙ„ØŒ Ø£Ùˆ Ø§Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø´Ø¨ÙƒØ© Ø§Ù„ØªØ§Ù„ÙŠØ© Ù„Ù„ÙˆØµÙˆÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹.</p>
      <div class="region-grid" id="regionGrid"></div>
    </div>
  </section>

  <section id="agenda"><h2>Ø§Ù„Ø¬Ø¯ÙˆÙ„ ÙˆØ§Ù„Ù…Ø­Ø§ÙˆØ±</h2><div class="grid" id="agendaGrid"></div></section>
  <section id="speakers"><h2>Ø§Ù„Ù…ØªØ­Ø¯Ø«ÙˆÙ†</h2><div class="grid cards" id="speakersGrid"></div></section>
  <section id="partners"><h2>Ø§Ù„Ø´Ø±ÙƒØ§Ø¡ ÙˆØ§Ù„Ø¯Ø§Ø¹Ù…ÙˆÙ†</h2><div class="partners" id="partnersGrid"></div></section>

  <section id="register"><h2>Ø§Ù„ØªØ³Ø¬ÙŠÙ„</h2><div class="card p">
    <form id="regForm" class="grid" style="grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px">
      <input name="name" placeholder="Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ" required>
      <input type="email" name="email" placeholder="Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ" required>
      <input name="org" placeholder="Ø§Ù„Ø¬Ù‡Ø© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
      <select name="role"><option>Ø­Ø¶ÙˆØ±</option><option>Ù…ØªØ­Ø¯Ø«</option><option>Ø±Ø§Ø¹ÙŠ</option></select>
      <textarea name="notes" placeholder="Ù…Ù„Ø§Ø­Ø¸Ø§Øª" style="grid-column:1/-1;min-height:88px"></textarea>
      <div style="grid-column:1/-1;display:flex;gap:10px;justify-content:flex-end">
        <button class="btn" type="submit">Ø¥Ø±Ø³Ø§Ù„</button><button class="btn ghost" type="reset">ØªÙØ±ÙŠØº</button>
      </div>
    </form>
    <p id="regMsg" style="display:none;margin-top:8px;color:#0a3d16" aria-live="polite">ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙƒØªØ¬Ø±Ø¨Ø© â€“ Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ.</p>
  </div></section>
</main>

<footer><div class="container" style="display:flex;justify-content:space-between;gap:10px;flex-wrap:wrap">
  <span>Â© Ù…Ø¨Ø§Ø¯Ø±Ø© ØªÙ„Ø¨ÙŠØ©</span><span>Ù†Ø³Ø®Ø© Ø£ÙˆÙ„ÙŠØ© Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø± â€“ Prototype</span>
</div></footer>

<a href="#register" class="cta">Ø³Ø¬Ù‘Ù„ Ø­Ø¶ÙˆØ±Ùƒ Ø§Ù„Ø¢Ù†</a>

<div class="modal" id="speakerModal" role="dialog" aria-modal="true">
  <div class="dialog"><div class="hd"><strong id="spName">Ø§Ø³Ù… Ø§Ù„Ù…ØªØ­Ø¯Ø«</strong><button class="btn ghost" id="closeModal">Ø¥ØºÙ„Ø§Ù‚</button></div>
    <div class="p"><div class="badge" id="spTopic">Ø§Ù„Ù…Ø­ÙˆØ±: â€”</div><p id="spBio" style="margin:10px 0 0;color:#65728A">â€”</p></div>
  </div>
</div>

<div class="modal" id="adminModal" role="dialog" aria-modal="true">
  <div class="dialog"><div class="hd"><strong>Ù„ÙˆØ­Ø© Ø§Ù„Ø¥Ø¯Ø§Ø±Ø© (Ù†Ù…ÙˆØ°Ø¬)</strong><button class="btn ghost" id="closeAdmin">Ø¥ØºÙ„Ø§Ù‚</button></div>
    <div class="p">
      <div class="grid" style="grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:12px">
        <div class="card p"><strong>Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù†Ø·Ù‚Ø© (JSON)</strong><input type="file" id="fileInput" accept="application/json" style="margin-top:8px"></div>
        <div class="card p"><strong>ØªØµØ¯ÙŠØ± Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ©</strong><button class="btn" id="downloadJson" style="margin-top:8px">ØªÙ†Ø²ÙŠÙ„ JSON</button></div>
        <div class="card p"><strong>Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ø§Ù…Ø©</strong><label><input type="checkbox" id="snapTabs"> ØªÙØ¹ÙŠÙ„ Scroll Snap Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ù…Ù†Ø§Ø·Ù‚</label></div>
      </div>
    </div>
  </div>
</div>

<script>
const DATA = {"meta": {"regions": [{"id": "riyadh", "name": "Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±ÙŠØ§Ø¶"}, {"id": "makkah", "name": "Ù…Ù†Ø·Ù‚Ø© Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø©"}, {"id": "madinah", "name": "Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø©"}, {"id": "qassim", "name": "Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚ØµÙŠÙ…"}, {"id": "eastern", "name": "Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø´Ø±Ù‚ÙŠØ©"}, {"id": "asir", "name": "Ù…Ù†Ø·Ù‚Ø© Ø¹Ø³ÙŠØ±"}, {"id": "tabuk", "name": "Ù…Ù†Ø·Ù‚Ø© ØªØ¨ÙˆÙƒ"}, {"id": "hail", "name": "Ù…Ù†Ø·Ù‚Ø© Ø­Ø§Ø¦Ù„"}, {"id": "northborders", "name": "Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠØ©"}, {"id": "jazan", "name": "Ù…Ù†Ø·Ù‚Ø© Ø¬Ø§Ø²Ø§Ù†"}, {"id": "najran", "name": "Ù…Ù†Ø·Ù‚Ø© Ù†Ø¬Ø±Ø§Ù†"}, {"id": "albaha", "name": "Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¨Ø§Ø­Ø©"}, {"id": "aljouf", "name": "Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¬ÙˆÙ"}]}, "byRegion": {"riyadh": {"date": "â€”", "venue": "â€”", "about": "Ù†Ø³Ø®Ø© Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø±ÙŠØ§Ø¶ Ù…Ù† Ù…Ù„ØªÙ‚Ù‰ ØªÙ„Ø¨ÙŠØ©.", "emirateLogo": "", "topics": [], "speakers": [], "partners": ["assets/vision2030.svg", "assets/hasseef.svg", "assets/talbiya.svg"]}, "makkah": {"date": "â€”", "venue": "â€”", "about": "Ù†Ø³Ø®Ø© Ù…Ù†Ø·Ù‚Ø© Ù…ÙƒØ© Ø§Ù„Ù…ÙƒØ±Ù…Ø© Ù…Ù† Ù…Ù„ØªÙ‚Ù‰ ØªÙ„Ø¨ÙŠØ©.", "emirateLogo": "", "topics": [], "speakers": [], "partners": ["assets/vision2030.svg", "assets/hasseef.svg", "assets/talbiya.svg"]}, "madinah": {"date": "â€”", "venue": "â€”", "about": "Ù†Ø³Ø®Ø© Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø¯ÙŠÙ†Ø© Ø§Ù„Ù…Ù†ÙˆØ±Ø© Ù…Ù† Ù…Ù„ØªÙ‚Ù‰ ØªÙ„Ø¨ÙŠØ©.", "emirateLogo": "", "topics": [], "speakers": [], "partners": ["assets/vision2030.svg", "assets/hasseef.svg", "assets/talbiya.svg"]}, "qassim": {"date": "â€”", "venue": "â€”", "about": "Ù†Ø³Ø®Ø© Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù‚ØµÙŠÙ… Ù…Ù† Ù…Ù„ØªÙ‚Ù‰ ØªÙ„Ø¨ÙŠØ©.", "emirateLogo": "", "topics": [], "speakers": [], "partners": ["assets/vision2030.svg", "assets/hasseef.svg", "assets/talbiya.svg"]}, "eastern": {"date": "â€”", "venue": "â€”", "about": "Ù†Ø³Ø®Ø© Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø´Ø±Ù‚ÙŠØ© Ù…Ù† Ù…Ù„ØªÙ‚Ù‰ ØªÙ„Ø¨ÙŠØ©.", "emirateLogo": "", "topics": [], "speakers": [], "partners": ["assets/vision2030.svg", "assets/hasseef.svg", "assets/talbiya.svg"]}, "asir": {"date": "â€”", "venue": "â€”", "about": "Ù†Ø³Ø®Ø© Ù…Ù†Ø·Ù‚Ø© Ø¹Ø³ÙŠØ± Ù…Ù† Ù…Ù„ØªÙ‚Ù‰ ØªÙ„Ø¨ÙŠØ©.", "emirateLogo": "", "topics": [], "speakers": [], "partners": ["assets/vision2030.svg", "assets/hasseef.svg", "assets/talbiya.svg"]}, "tabuk": {"date": "â€”", "venue": "â€”", "about": "Ù†Ø³Ø®Ø© Ù…Ù†Ø·Ù‚Ø© ØªØ¨ÙˆÙƒ Ù…Ù† Ù…Ù„ØªÙ‚Ù‰ ØªÙ„Ø¨ÙŠØ©.", "emirateLogo": "", "topics": [], "speakers": [], "partners": ["assets/vision2030.svg", "assets/hasseef.svg", "assets/talbiya.svg"]}, "hail": {"date": "Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø«Ø§Ù†ÙŠ 1447Ù‡Ù€", "venue": "Ù‚Ø§Ø¹Ø© ØºØ±ÙØ© Ø­Ø§Ø¦Ù„", "about": "ÙŠØ¬Ù…Ø¹ Ù…Ù„ØªÙ‚Ù‰ ØªÙ„Ø¨ÙŠØ© ÙÙŠ Ø­Ø§Ø¦Ù„ Ø§Ù„Ø¬Ù‡Ø§Øª Ø§Ù„Ø­ÙƒÙˆÙ…ÙŠØ© ÙˆØ§Ù„Ù‚Ø·Ø§Ø¹ÙŠÙ† Ø§Ù„Ø®Ø§Øµ ÙˆØºÙŠØ± Ø§Ù„Ø±Ø¨Ø­ÙŠ Ù„Ø¨Ù†Ø§Ø¡ Ø´Ø±Ø§ÙƒØ§Øª ØªÙ†Ù…ÙˆÙŠØ© ØªØ±ØªØ¨Ø· Ø¨Ù…Ø³ØªÙ‡Ø¯ÙØ§Øª Ø±Ø¤ÙŠØ© 2030.", "emirateLogo": "", "topics": [{"id": "gov", "title": "ØªÙƒØ§Ù…Ù„ Ø§Ù„Ø­ÙƒÙˆÙ…Ø© ÙˆØ§Ù„Ù‚Ø·Ø§Ø¹Ø§Øª", "time": "09:00", "desc": "Ù†Ù…Ø§Ø°Ø¬ Ø§Ù„ØªÙƒØ§Ù…Ù„ ÙˆØªØ³Ø±ÙŠØ¹ Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª"}, {"id": "csr", "title": "Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹ÙŠØ© ÙˆØ§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± Ø§Ù„Ù…Ø¤Ø«Ø±", "time": "10:30", "desc": "Ø¢Ù„ÙŠØ§Øª Ø§Ù„ØªÙ…ÙƒÙŠÙ† Ø¹Ø¨Ø± Ø­ØµÙŠÙ"}, {"id": "youth", "title": "ØªÙ…ÙƒÙŠÙ† Ø§Ù„Ø´Ø¨Ø§Ø¨ ÙˆØ§Ù„Ø§Ø¨ØªÙƒØ§Ø±", "time": "12:00", "desc": "Ø­Ù„ÙˆÙ„ Ù…Ø¨ØªÙƒØ±Ø© ÙˆÙ…Ø³Ø±Ø¹Ø§Øª"}], "speakers": [{"topic": "gov", "name": "Ø£. Ø±Ø§ÙƒØ§Ù† Ø§Ù„Ø¹Ù‚Ù„Ø§Ø¡", "role": "Ø­ÙˆÙƒÙ…Ø© ÙˆØªØ­ÙˆÙ„", "bio": "Ù…Ø®ØªØµ ÙÙŠ ØªØ·ÙˆÙŠØ± Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª ÙˆØªÙ†Ø¸ÙŠÙ… Ø§Ù„ÙØ¹Ø§Ù„ÙŠØ§Øª Ø§Ù„ØªÙ†Ù…ÙˆÙŠØ©.", "photo": ""}, {"topic": "csr", "name": "Ù…. Ù…Ø­Ù…Ø¯ Ø§Ù„ØºØ²Ø§Ù„", "role": "Ø±ÙŠØ§Ø¯Ø© ÙˆØªÙ‚Ù†ÙŠØ©", "bio": "Ø¹Ù…Ù„ Ø¹Ù„Ù‰ ØªÙ‚Ù†ÙŠØ§Øª Ø§Ù„ØªØ­ÙˆÙ„ Ø§Ù„Ø±Ù‚Ù…ÙŠ ÙˆØ­Ù„ÙˆÙ„ Ø§Ù„Ø§Ø³ØªØ¯Ø§Ù…Ø©.", "photo": ""}, {"topic": "csr", "name": "Ù…. Ø£Ø­Ù…Ø¯ Ø§Ù„Ø·Ø§Ø¦ÙÙŠ", "role": "ØºÙŠØ± Ø±Ø¨Ø­ÙŠ", "bio": "Ø®Ø¨Ø±Ø© ÙÙŠ Ø¨Ù†Ø§Ø¡ Ø§Ù„Ø´Ø±Ø§ÙƒØ§Øª ÙˆØ¥Ø¯Ø§Ø±Ø© Ø§Ù„Ù…Ø¨Ø§Ø¯Ø±Ø§Øª.", "photo": ""}], "partners": ["assets/vision2030.svg", "assets/hasseef.svg", "assets/talbiya.svg"]}, "northborders": {"date": "â€”", "venue": "â€”", "about": "Ù†Ø³Ø®Ø© Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø­Ø¯ÙˆØ¯ Ø§Ù„Ø´Ù…Ø§Ù„ÙŠØ© Ù…Ù† Ù…Ù„ØªÙ‚Ù‰ ØªÙ„Ø¨ÙŠØ©.", "emirateLogo": "", "topics": [], "speakers": [], "partners": ["assets/vision2030.svg", "assets/hasseef.svg", "assets/talbiya.svg"]}, "jazan": {"date": "â€”", "venue": "â€”", "about": "Ù†Ø³Ø®Ø© Ù…Ù†Ø·Ù‚Ø© Ø¬Ø§Ø²Ø§Ù† Ù…Ù† Ù…Ù„ØªÙ‚Ù‰ ØªÙ„Ø¨ÙŠØ©.", "emirateLogo": "", "topics": [], "speakers": [], "partners": ["assets/vision2030.svg", "assets/hasseef.svg", "assets/talbiya.svg"]}, "najran": {"date": "â€”", "venue": "â€”", "about": "Ù†Ø³Ø®Ø© Ù…Ù†Ø·Ù‚Ø© Ù†Ø¬Ø±Ø§Ù† Ù…Ù† Ù…Ù„ØªÙ‚Ù‰ ØªÙ„Ø¨ÙŠØ©.", "emirateLogo": "", "topics": [], "speakers": [], "partners": ["assets/vision2030.svg", "assets/hasseef.svg", "assets/talbiya.svg"]}, "albaha": {"date": "â€”", "venue": "â€”", "about": "Ù†Ø³Ø®Ø© Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¨Ø§Ø­Ø© Ù…Ù† Ù…Ù„ØªÙ‚Ù‰ ØªÙ„Ø¨ÙŠØ©.", "emirateLogo": "", "topics": [], "speakers": [], "partners": ["assets/vision2030.svg", "assets/hasseef.svg", "assets/talbiya.svg"]}, "aljouf": {"date": "â€”", "venue": "â€”", "about": "Ù†Ø³Ø®Ø© Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø¬ÙˆÙ Ù…Ù† Ù…Ù„ØªÙ‚Ù‰ ØªÙ„Ø¨ÙŠØ©.", "emirateLogo": "", "topics": [], "speakers": [], "partners": ["assets/vision2030.svg", "assets/hasseef.svg", "assets/talbiya.svg"]}}};
const qs = s => document.querySelector(s);
const regionSelect = qs('#regionSelect'), topicSelect = qs('#topicSelect'), regionGrid = qs('#regionGrid'), regionTabs = qs('#regionTabs');
const agendaGrid = qs('#agendaGrid'), speakersGrid = qs('#speakersGrid'), partnersGrid = qs('#partnersGrid');
const regForm = qs('#regForm'), regMsg = qs('#regMsg'), speakerModal = qs('#speakerModal'), adminModal = qs('#adminModal');

DATA.meta.regions.forEach(r => { const opt=document.createElement('option'); opt.value=r.id; opt.textContent=r.name; regionSelect.appendChild(opt); });
regionTabs.innerHTML = DATA.meta.regions.map(r => `<a href="#home" data-id="${r.id}">${r.name}</a>`).join('');
regionGrid.innerHTML = DATA.meta.regions.map(r => `<a href="#home" data-id="${r.id}"><div class="title">${r.name}</div><div style="color:#65728A;font-size:14px">Ø§Ø¶ØºØ· Ù„Ù„Ø§Ù†ØªÙ‚Ø§Ù„ Ù„ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</div></a>`).join('');

let currentRegion = 'hail'; regionSelect.value = currentRegion; updateUI();

function updateUI(){
  const data = DATA.byRegion[currentRegion];
  const opts = (data.topics||[]).map(t => `<option value="${t.id}">${t.title}</option>`).join('');
  topicSelect.innerHTML = '<option value="all">ÙƒÙ„ Ø§Ù„Ù…Ø­Ø§ÙˆØ±</option>' + opts;

  agendaGrid.innerHTML = (data.topics||[]).map(t => `<div class="card p"><div style="display:grid;grid-template-columns:100px 1fr;gap:12px"><div>${t.time||''}</div><div><div style="font-weight:700">${t.title}</div><div style="color:#65728A;margin-top:4px">${t.desc||''}</div></div></div></div>`).join('') || `<div class="card p" style="color:#65728A">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ø­Ø§ÙˆØ± Ø¨Ø¹Ø¯ Ù„Ù‡Ø°Ù‡ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©.</div>`;

  const selectedTopic = topicSelect.value;
  const list = selectedTopic==='all' ? (data.speakers||[]) : (data.speakers||[]).filter(s=>s.topic===selectedTopic);
  speakersGrid.innerHTML = list.map(s => `<div class="card p"><div class="speaker"><img src="${s.photo||'assets/talbiya.svg'}" alt="${s.name}"><div><div style="font-weight:700">${s.name}</div><div style="color:#65728A;font-size:14px">${s.role||''}</div><p style="margin:6px 0 0;color:#65728A">${s.bio||''}</p><button class="btn ghost" data-sp='${encodeURIComponent(JSON.stringify(s))}' style="margin-top:8px">Ù†Ø¨Ø°Ø© Ù…ÙˆØ³Ø¹Ø©</button></div></div></div>`).join('') || `<div class="card p" style="color:#65728A">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ù…Ø§Ø¡ Ù…ØªØ­Ø¯Ø«ÙŠÙ† Ø¨Ø¹Ø¯.</div>`;

  partnersGrid.innerHTML = (data.partners||[]).map(src => `<div class="card p"><img src="${src}" alt="Ø´Ø¹Ø§Ø±"></div>`).join('') || `<div class="card p" style="color:#65728A">Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ø´Ø±ÙƒØ§Ø¡ Ø¨Ø¹Ø¯.</div>`;

  regionTabs.querySelectorAll('a').forEach(a => a.classList.toggle('active', a.dataset.id===currentRegion));
}

regionSelect.addEventListener('change', ()=>{ currentRegion = regionSelect.value; updateUI(); });
topicSelect.addEventListener('change', updateUI);

regionTabs.addEventListener('click', e => {
  const a = e.target.closest('a[data-id]'); if(!a) return; e.preventDefault();
  currentRegion = a.dataset.id; regionSelect.value = currentRegion; updateUI();
});
regionGrid.addEventListener('click', e => {
  const a = e.target.closest('a[data-id]'); if(!a) return; e.preventDefault();
  currentRegion = a.dataset.id; regionSelect.value = currentRegion; updateUI(); location.hash = '#agenda';
});

document.getElementById('copyLink').addEventListener('click', async()=>{
  const url = `${location.origin}${location.pathname}?region=${currentRegion}`;
  try{ await navigator.clipboard.writeText(url); alert('ØªÙ… Ù†Ø³Ø® Ø±Ø§Ø¨Ø· Ø§Ù„Ù…Ù†Ø·Ù‚Ø©: '+url); } catch{ prompt('Ø§Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·:', url); }
});

speakersGrid.addEventListener('click', e => {
  const btn = e.target.closest('button[data-sp]'); if(!btn) return;
  const s = JSON.parse(decodeURIComponent(btn.dataset.sp));
  document.getElementById('spName').textContent = s.name;
  const t = (DATA.byRegion[currentRegion].topics||[]).find(x=>x.id===s.topic)?.title || s.topic;
  document.getElementById('spTopic').textContent = 'Ø§Ù„Ù…Ø­ÙˆØ±: ' + t;
  document.getElementById('spBio').textContent = s.bio || '';
  document.getElementById('speakerModal').style.display = 'flex';
});
document.getElementById('closeModal').addEventListener('click', ()=> document.getElementById('speakerModal').style.display='none');
document.getElementById('speakerModal').addEventListener('click', e => { if(e.target.id==='speakerModal') e.currentTarget.style.display='none'; });

document.getElementById('openAdmin').addEventListener('click', ()=> document.getElementById('adminModal').style.display='flex');
document.getElementById('closeAdmin').addEventListener('click', ()=> document.getElementById('adminModal').style.display='none');
document.getElementById('adminModal').addEventListener('click', e => { if(e.target.id==='adminModal') e.currentTarget.style.display='none'; });

document.getElementById('downloadJson').addEventListener('click', ()=>{
  const data = DATA.byRegion[currentRegion];
  const blob = new Blob([JSON.stringify({"id":currentRegion,"data":data}, null, 2)], {type:'application/json'});
  const a = document.createElement('a'); a.href = URL.createObjectURL(blob); a.download = `talbiya-${currentRegion}.json`; a.click();
});

const fileInput = document.getElementById('fileInput');
fileInput.addEventListener('change', e => {
  const f = e.target.files[0]; if(!f) return;
  const r = new FileReader();
  r.onload = () => {
    try{ const obj = JSON.parse(r.result);
      if(!obj.id || !obj.data) throw new Error('ØµÙŠØºØ© Ø§Ù„Ù…Ù„Ù ØºÙŠØ± ØµØ­ÙŠØ­Ø©: Ù†Ø­ØªØ§Ø¬ { id, data }');
      DATA.byRegion[obj.id] = obj.data; currentRegion = obj.id; regionSelect.value = currentRegion; updateUI();
      alert('ØªÙ… Ø§Ø³ØªÙŠØ±Ø§Ø¯ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†Ø·Ù‚Ø© âœ…');
    }catch(err){ alert('Ø®Ø·Ø£: ' + err.message); }
  };
  r.readAsText(f);
});

regForm.addEventListener('submit', e => { e.preventDefault(); regMsg.style.display='block'; setTimeout(()=> regMsg.style.display='none', 3000); });

const snap = document.getElementById('snapTabs');
snap.addEventListener('change', ()=>{ document.getElementById('regionTabs').style.scrollSnapType = snap.checked ? 'x mandatory' : 'initial'; });
</script>
</body></html>
