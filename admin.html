<!doctype html><html lang="ar" dir="rtl"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>لوحة إدارة بيانات المناطق | تلبية</title><style>body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Tajawal,Arial;background:#F6F7F9;color:#1C1C1C;margin:0}.container{width:min(1000px,100%);margin:auto;padding:16px}.card{background:#fff;border:1px solid #E7EAF0;border-radius:14px;padding:16px;margin-bottom:16px}.btn{background:#136A40;color:#fff;border:0;padding:10px 12px;border-radius:10px;cursor:pointer}input,select,textarea{width:100%;padding:10px;border-radius:10px;border:1px solid #E7EAF0}pre{background:#0b1020;color:#d0d4e4;padding:12px;border-radius:10px;overflow:auto}</style></head><body><div class="container"><h1>لوحة إدارة بيانات المناطق</h1><div class="card"><label>اختر المنطقة</label><select id="region"></select><div style="margin-top:10px;display:flex;gap:10px;flex-wrap:wrap"><button class="btn" id="load">تحميل البيانات</button><button class="btn" id="save">حفظ إلى ملف</button><input type="file" id="file" accept="application/json"/><button class="btn" id="apply">استبدال البيانات من ملف</button></div></div><div class="card"><h3>المعاينة</h3><pre id="preview" aria-live="polite">—</pre></div></div><script>const REGIONS=[{id:"riyadh",name:"منطقة الرياض"},{id:"makkah",name:"منطقة مكة المكرمة"},{id:"madinah",name:"منطقة المدينة المنورة"},{id:"qassim",name:"منطقة القصيم"},{id:"eastern",name:"المنطقة الشرقية"},{id:"asir",name:"منطقة عسير"},{id:"tabuk",name:"منطقة تبوك"},{id:"hail",name:"منطقة حائل"},{id:"northborders",name:"منطقة الحدود الشمالية"},{id:"jazan",name:"منطقة جازان"},{id:"najran",name:"منطقة نجران"},{id:"albaha",name:"منطقة الباحة"},{id:"aljouf",name:"منطقة الجوف"}];const $=s=>document.querySelector(s);const region=$('#region');region.innerHTML=REGIONS.map(r=>`<option value="${r.id}">${r.name}</option>`).join('');const preview=$('#preview');$('#load').onclick=async()=>{const id=region.value;const r=await fetch(`data/${id}.json`,{cache:'no-store'});preview.textContent=await r.text();};$('#save').onclick=async()=>{const id=region.value;const r=await fetch(`data/${id}.json`,{cache:'no-store'});const blob=new Blob([await r.text()],{type:'application/json'});const a=document.createElement('a');a.href=URL.createObjectURL(blob);a.download=`${id}.json`;a.click();};$('#apply').onclick=async()=>{const f=$('#file').files[0];if(!f) return alert('اختر ملف JSON أولاً');const text=await f.text();try{JSON.parse(text);}catch{return alert('صيغة JSON غير صحيحة');}preview.textContent=text+'\n\n(تمت المعاينة — ارفع الملف يدويًا إلى مجلد data عبر GitHub)';};</script></body></html>